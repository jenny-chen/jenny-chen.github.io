{"version":3,"sources":["webpack:///./src/components/photoModal.jsx","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./src/components/maps/hongkong.js","webpack:///./src/images/hongkong/info.js","webpack:///./src/pages/hongkong.jsx"],"names":["Modal","styled","Box","withConfig","displayName","componentId","props","hidden","ModalContent","_ref","theme","mediaQueries","tablet","PhotoModal","React","createElement","onClick","e","setModalHidden","stopPropagation","Flex","boxWidth","GatsbyImage","alt","photo","name","key","image","Heading","Text","info","location","date","description","map","line","index","x","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","o","topology","objects","type","features","geometries","id","bbox","properties","geometry","transformPoint","arcs","arc","points","pop","a","k","push","t","array","reverse","point","p","ring","polygon","coordinates","HongKongMap","_Component","_this","call","getLoc","state","loc","drawChart","div","d3","select","remove","height","node","offsetHeight","width","offsetWidth","console","log","svg","append","attr","projection","center","path","selected","title_loc","visited","then","data","topojson","HKG_adm1_1","selectAll","enter","style","NAME_1","includes","on","setLoc","newLoc","newLocCh","NAME_2","setState","loc_ch","this","title_loc_ch","setTitleLoc","_inheritsLoose","_proto","prototype","componentDidMount","window","addEventListener","bind","render","Fragment","className","Component","hongKongPhotoInformation","HongKong","useState","openPhoto","setOpenPhoto","modalHidden","photos","allPhotos","allFile","edges","place","split","getImage","childImageSharp","Layout","tab","SEO","title","Title","toLowerCase","cursor","text","newModalHidden"],"mappings":"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","file":"component---src-pages-hongkong-jsx-1a0962697fa33e98a684.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\n\nimport {\n  Box,\n  Flex,\n  Heading,\n  Text,\n} from \"../components/basics\"\n\nconst Modal = styled(Box)`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.hidden ? \"0\" : \"1\"};\n  transition: all 0.2s ease-in-out;\n  pointer-events: ${props => props.hidden ? \"none\" : \"auto\"};\n`\n\nconst ModalContent = styled(Box)`\n  width: 50%;\n  background-color: white;\n  padding: 35px;\n\n  ${({ theme }) => `${theme.mediaQueries.tablet} {\n    padding: 50px;\n  }`}\n`\n\nexport default function PhotoModal(props) {\n  return (\n    <Modal hidden={props.hidden} onClick={e => props.setModalHidden(true)}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <Flex boxWidth=\"48%\">\n          <Box>\n            <GatsbyImage\n              alt={props.photo.name}\n              key={props.photo.name}\n              image={props.photo.image}\n            />\n          </Box>\n          <Box>\n            <Flex boxWidth=\"50%\">\n              <Box>\n                <Heading>location</Heading>\n                <Text>{props.info.location}</Text>\n              </Box>\n              <Box>\n                <Heading>date</Heading>\n                <Text>{props.info.date}</Text>\n              </Box>\n            </Flex>\n            <div>\n              <Heading>description</Heading>\n              {props.info.description.map((line, index) => {\n                return <Text key={index}>{line}</Text>\n              })}\n            </div>\n          </Box>\n          </Flex>\n      </ModalContent>\n    </Modal>\n  )\n}\n","export default function (x) {\n  return x;\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n    y0,\n    kx = transform.scale[0],\n    ky = transform.scale[1],\n    dx = transform.translate[0],\n    dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n      n = input.length,\n      output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\nfunction feature(topology, o) {\n  var id = o.id,\n    bbox = o.bbox,\n    properties = o.properties == null ? {} : o.properties,\n    geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n    arcs = topology.arcs;\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n  function point(p) {\n    return transformPoint(p);\n  }\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n  function geometry(o) {\n    var type = o.type,\n      coordinates;\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n      default:\n        return null;\n    }\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n  return geometry(o);\n}","export default function (array, n) {\n  var t,\n    j = array.length,\n    i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}","import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport * as topojson from \"topojson-client\";\nimport \"./japan.css\"\n\nclass HongKongMap extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      title_loc: \"Hong Kong\",\n      title_loc_ch: \"香港\",\n      loc: \"Hong Kong\",\n      loc_ch: \"香港\",\n    };\n  }\n\n  getLoc = () => {\n    return this.state.loc\n  }\n\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n\n  drawChart = () => {\n    const div = d3.select(\"#hongkong\");\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n    console.log(\"height: \", height)\n    console.log(\"width: \", width)\n\n    const svg = div.append('svg')\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    var projection = d3.geoMercator()\n      .scale(50000)\n      .center([114,22])\n      .translate([width/3,650])\n\n    var path = d3.geoPath().projection(projection);\n\n    var selected = this.state.title_loc\n\n    const visited = [\"Central and Western\", \"Eastern\", \"Wan Chai\", \"Islands\", \"Southern\", \"Yau Tsim Mong\", \"Kowloon City\", \"Tuen Mun\", \"Tsuen Wan\", \"Sham Shui Po\"]\n    const selectedColor = \"#FFD148\";\n    const visitedColor = \"#f5d1c6\"\n    const nonVisitedColor = \"white\"\n\n    const setLoc = (newLoc, newLocCh) => {\n      this.setState({loc: newLoc, loc_ch: newLocCh})\n    }\n\n    const setTitleLoc = (newLoc, newLocCh) => {\n      this.setState({title_loc: newLoc})\n      this.setState({title_loc_ch: newLocCh})\n      this.props.setLoc(newLoc)\n      selected = this.state.title_loc\n    }\n\n    const resetLoc = () => {\n      this.setState({loc: this.state.title_loc, loc_ch: this.state.title_loc_ch})\n    }\n\n\n    d3.json(\"/json/topohongkong.json\").then(data => {\n      var features = topojson.feature(data, data.objects.HKG_adm1_1).features\n\n      svg.selectAll(\"path\")\n        .data(features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", path)\n        .attr(\"stroke\", \"black\")\n        .style(\"stroke-width\", \"0.6\")\n        .style(\"fill\", function(e) {\n          if (selected === e.properties.NAME_1) {\n            return selectedColor\n          } else if (visited.includes(e.properties.NAME_1)) {\n            return visitedColor\n          } else {\n            return nonVisitedColor\n          }\n        })\n        .on(\"mouseover\", function(e) {\n          setLoc(e.properties.NAME_1, e.properties.NAME_2)\n          if (visited.includes(e.properties.NAME_1)) {\n            d3.select(this).style(\"fill\", \"#d9bbb2\")\n          } else {\n            d3.select(this).style(\"fill\", \"lightgrey\")\n          }\n        })\n        .on(\"mouseout\", function(e) {\n          if (e.properties.NAME_1 === selected) {\n            d3.select(this).style(\"fill\", selectedColor)\n          } else if (visited.includes(e.properties.NAME_1)) {\n            d3.select(this).style(\"fill\", visitedColor)\n          } else {\n            d3.select(this).style(\"fill\", nonVisitedColor)\n          }\n          resetLoc()\n        })\n        .on(\"click\", function(e) {\n          if (visited.includes(e.properties.NAME_1)) {\n            svg.selectAll(\"path\")\n              .style(\"fill\", function(e) {\n                if (visited.includes(e.properties.NAME_1)) {\n                  return visitedColor\n                } else {\n                  return nonVisitedColor\n                }\n              })\n            setTitleLoc(e.properties.NAME_1, e.properties.NAME_2)\n            d3.select(this).style(\"fill\", selectedColor)\n          }\n        })\n    });\n\n  };\n\n  render() {\n    return (\n      <>\n        <div id=\"japan-labels\">\n          <p id=\"english-label\">{this.state.loc}</p>\n          <p id=\"japanese-label\">{this.state.loc_ch}</p>\n        </div>\n        <div id=\"hongkong\" className=\"mapDiv\"></div>\n      </>\n    )\n  }\n}\n\nexport default HongKongMap\n","export const hongKongPhotoInformation = {\n  // central and western\n  \"central_hku_sign\": {\n    date: \"2022-09-05\",\n    location: \"HKU\",\n    description: [\"Customary picture in front of school sign.\"]\n  },\n  \"central_hku_view\": {\n    date: \"2022-09-12\",\n    location: \"HKU\",\n    description: [\"View from the campus while walking between classes.\"]\n  },\n  \"central_bbq_rice\": {\n    date: \"2022-08-31\",\n    location: \"Sai Ying Pun\",\n    description: [\"Michelin Guide roast duck and char siu rice right outside the school.\"]\n  },\n  \"central_fluffy_cat\": {\n    date: \"2022-09-02\",\n    location: \"Sai Ying Pun\",\n    description: [\"Lots of store cats on Des Voeux Road. This one was particularly photogenic.\"]\n  },\n  \"central_omakase\": {\n    date: \"2022-10-08\",\n    location: \"Sooshi Gold, Central\",\n    description: [\"1 part of the omakase dinner.\"]\n  },\n  \"central_neon_sign\": {\n    date: \"2022-11-04\",\n    location: \"Sai Ying Pun\",\n    description: [\"A neon sign hanging at night.\"]\n  },\n\n  // kowloon city\n  \"kowloon_quarantine_meal\": {\n    date: \"2022-08-22\",\n    location: \"Quarantine Hotel\",\n    description: [\"Typical quarantine meal.\"]\n  },\n\n  // tsuen wan\n  \"tsuen_gate\": {\n    date: \"2022-10-26\",\n    location: \"Western Monastery\",\n    description: [\"Front gate of the Western Monastery. Interesting to visit after learning a bit more about the architecture behind buddhist temples in class.\"]\n  },\n  \"tsuen_carp\": {\n    date: \"2022-10-26\",\n    location: \"Western Monastery\",\n    description: [\"Carp pond.\"]\n  },\n\n  // sham shui po\n  \"sham_road\": {\n    date: \"2022-10-14\",\n    location: \"Outside Sham Shui Po Station\",\n    description: [\"On route to Hop Yik Tai.\"]\n  },\n\n  // southern\n  \"southern_dragons_back_start\": {\n    date: \"2022-10-22\",\n    location: \"Northern End of Shek O\",\n    description: [\"About to start Dragon's Back\"]\n  },\n  \"southern_sheko_beach\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Country Park\",\n    description: [\"View of Shek O Beach during the hike.\"]\n  },\n  \"southern_take_picture\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Country Park\",\n    description: [\"What a nice day.\"]\n  },\n  \"southern_beach_kids\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Beach\",\n    description: [\"Kids in matching outfits.\"]\n  },\n\n  // wan chai\n  \"wan_street\": {\n    date: \"2022-10-30\",\n    location: \"Wan Chai\",\n    description: [\"Busy street.\"]\n  },\n  \"wan_bbq_rice\": {\n    date: \"2022-11-19\",\n    location: \"Hay Hay Kitchen\",\n    description: [\"Char siu rice — my most consumed meal.\"]\n  },\n  \n  // yau tsim mong\n  \"yau_waterfront\": {\n    date: \"2022-08-26\",\n    location: \"Tsim Sha Tsui Promenade\",\n    description: [\"I went for a run exactly once during the term and this was the view.\"]\n  },\n  \"yau_stairs\": {\n    date: \"2022-10-28\",\n    location: \"King's Park\",\n    description: [\"There are a bunch of paths like this everywhere, just endless stairs leading somewhere.\"]\n  },\n  \"yau_park_track\": {\n    date: \"2022-10-28\",\n    location: \"King's Park\",\n    description: [\"The stairs eventually led to a nice little park at the top of a hill.\"]\n  },\n\n  // islands\n  \"islands_before_cable\": {\n    date: \"2022-11-09\",\n    location: \"Tung Chung\",\n    description: [\"Area before getting on the cable car.\"]\n  },\n  \"islands_cable_car\": {\n    date: \"2022-11-09\",\n    location: \"Tung Chung\",\n    description: [\"In the cable car to see the Big Buddha.\"]\n  },\n  \"islands_big_buddha\": {\n    date: \"2022-11-09\",\n    location: \"Ngong Ping\",\n    description: [\"We weren't allowed to walk up but yeah, that's a big buddha.\"]\n  },\n  \"islands_wisdom_path\": {\n    date: \"2022-11-09\",\n    location: \"Wisdom Path, Ngong Ping\",\n    description: [\"A short walk away, you can find the Wisdom Path.\"]\n  },\n  \"islands_lantau_1\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Upon our return to hike Lantau Peak, the weather was not in our favour. This was the visibility for the entire hike.\"]\n  },\n  \"islands_me\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Its-a me.\"]\n  },\n  \"islands_lantau_2\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Another view.\"]\n  },\n\n  // eastern\n  \"eastern_wagyu\": {\n    date: \"2022-11-12\",\n    location: \"Japanese Wagyu Yakiniku Pure, Causeway Bay\",\n    description: [\"Yakiniku for lunch.\"]\n  },\n\n  // tuen mun\n  \"tuen_chillwo\": {\n    date: \"2022-11-13\",\n    location: \"Chillwo (Shop name)\",\n    description: [\"Tucked away in a random industrial looking complex is a Japanese thrift shop populated by 7 cats.\"]\n  },\n  \"tuen_cats\": {\n    date: \"2022-11-13\",\n    location: \"Chillwo (Shop name)\",\n    description: [\"Some of the cats.\"]\n  },\n  \"tuen_reptile\": {\n    date: \"2022-11-13\",\n    location: \"Reptile House, Tuen Mun Park\",\n    description: [\"Yup, that's a reptile.\"]\n  },\n  \"tuen_sunset\": {\n    date: \"2022-11-13\",\n    location: \"Tuen Mun Park\",\n    description: [\"Sunset from a park.\"]\n  },\n\n}","import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nimport Layout from \"../components/layouts/layout\"\nimport SEO from \"../components/seo\"\nimport HongKongMap from \"../components/maps/hongkong\"\nimport PhotoModal from \"../components/photoModal\"\n\nimport { hongKongPhotoInformation } from \"../images/hongkong/info\"\n\nimport {\n  Box,\n  Flex,\n  Text,\n  Title,\n} from \"../components/basics\"\n\nexport default function HongKong({ data }) {\n\n  const [loc, setLoc] = useState(\"HongKong\");\n  const [openPhoto, setOpenPhoto] = useState({});\n  const [modalHidden, setModalHidden] = useState(true);\n\n  var photos = {}\n  var allPhotos = data.allFile.edges\n\n  for (var i = 0; i < allPhotos.length; i++) {\n    var name = allPhotos[i].node.name\n    var place = name.split(\"_\")[0]\n    if (place in photos) {\n      photos[place].push({name: name,\n                          image: getImage(allPhotos[i].node.childImageSharp)})\n    } else {\n      photos[place] = [{name: name,\n                        image: getImage(allPhotos[i].node.childImageSharp)}]\n    }\n  }\n\n  return (\n    <Layout tab=\"Hong Kong\">\n      <SEO title=\"HongKong\" />\n      <Title>Hong Kong</Title>\n      <Text description>Aug - Dec 2022</Text>\n\n      <HongKongMap setLoc={newLoc => setLoc(newLoc)} />\n\n      <Flex boxWidth=\"49.5%\" photos>\n        {loc !== \"HongKong\" &&\n          photos[loc.split(\" \")[0].toLowerCase()].map((photo, index) => {\n            return (\n              <Box\n                key={photo.name}\n                photo\n                onClick={e => {\n                  setOpenPhoto(photo)\n                  setModalHidden(false)\n                }}\n              >\n                <GatsbyImage\n                  alt={photo.name}\n                  key={photo.name}\n                  image={photo.image}\n                  style={{ cursor: \"pointer\" }}\n                />\n              </Box>\n            )\n          })}\n      </Flex>\n\n      <PhotoModal\n        text=\"modal text\"\n        hidden={modalHidden}\n        photo={openPhoto}\n        setModalHidden={newModalHidden => setModalHidden(newModalHidden)}\n        info={\n          hongKongPhotoInformation[openPhoto.name] || {\n            date: \"\",\n            location: \"\",\n            description: [\"\"],\n          }\n        }\n      />\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query HKPhotos {\n    allFile(filter: {extension: {regex: \"/(jpg)|(jpeg)|(png)/\"}, dir: {regex: \"/images/hongkong/\"}}) {\n      edges {\n        node {\n          id\n          name\n          childImageSharp {\n            gatsbyImageData(\n              placeholder: BLURRED\n              formats: [AUTO, WEBP, AVIF]\n            )\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}