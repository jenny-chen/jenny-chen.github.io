{"version":3,"sources":["webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./node_modules/topojson-client/src/bisect.js","webpack:///./src/components/maps/japan.js","webpack:///./src/components/photoModal.jsx","webpack:///./src/images/japan/info.js","webpack:///./src/pages/japan.jsx"],"names":["x","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","topology","o","id","bbox","properties","geometry","type","transformPoint","arcs","arc","points","pop","a","k","push","t","array","reverse","point","p","line","ring","polygon","map","coordinates","geometries","JapanMap","props","getLoc","state","loc","drawChart","div","d3","select","remove","height","node","offsetHeight","width","offsetWidth","console","log","svg","append","attr","projection","center","path","selected","title_loc","visited","then","data","features","objects","japan","selectAll","enter","style","e","includes","nam","on","newLoc","newLocJa","nam_ja","setState","loc_ja","this","title_loc_ja","setLoc","componentDidMount","window","addEventListener","bind","render","className","Component","Modal","styled","Box","hidden","ModalContent","PhotoModal","onClick","setModalHidden","stopPropagation","boxWidth","alt","photo","name","image","info","location","date","description","index","japanPhotoInformation","Japan","useState","openPhoto","setOpenPhoto","modalHidden","photos","allPhotos","allFile","edges","place","split","getImage","childImageSharp","tab","title","toLowerCase","cursor","text","newModalHidden"],"mappings":"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","file":"component---src-pages-japan-jsx-23da1f9b1b0267e4cd61.js","sourcesContent":["export default function (x) {\n  return x;\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) {\n      output[j] = input[j], ++j;\n    }\n\n    return output;\n  };\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) {\n      arc(arcs[i], points);\n    }\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) {\n      points.push(points[0]);\n    } // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) {\n    t = array[i], array[i++] = array[j], array[j] = t;\n  }\n}","export default function (a, x) {\n  var lo = 0,\n      hi = a.length;\n\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;else hi = mid;\n  }\n\n  return lo;\n}","import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport * as topojson from \"topojson-client\";\nimport \"./japan.css\"\n\nclass JapanMap extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      title_loc: \"Japan\",\n      title_loc_ja: \"日本\",\n      loc: \"Japan\",\n      loc_ja: \"日本\",\n    };\n  }\n\n  getLoc = () => {\n    return this.state.loc\n  }\n\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n\n  drawChart = () => {\n    const div = d3.select(\"#japan\");\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n    console.log(\"height: \", height)\n    console.log(\"width: \", width)\n\n    const svg = div.append('svg')\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    var projection = d3.geoMercator()\n      .scale(1200)\n      .center([137,37])\n      .translate([width/2,250])\n\n    var path = d3.geoPath().projection(projection);\n\n    var selected = this.state.title_loc\n\n    const visited = [\"Tokyo To\", \"Kyoto Fu\", \"Osaka Fu\", \"Fukuoka Ken\", \"Nara Ken\", \"Aichi Ken\"]\n    const visitedColor = \"#f5d1c6\"\n    const nonVisitedColor = \"white\"\n\n    const setLoc = (newLoc, newLocJa) => {\n      this.setState({loc: newLoc, loc_ja: newLocJa})\n    }\n\n    const setTitleLoc = (newLoc, newLocJa) => {\n      this.setState({title_loc: newLoc})\n      this.setState({title_loc_ja: newLocJa})\n      this.props.setLoc(newLoc)\n      selected = this.state.title_loc\n    }\n\n    const resetLoc = () => {\n      this.setState({loc: this.state.title_loc, loc_ja: this.state.title_loc_ja})\n    }\n\n\n    d3.json(\"/json/topojapan.json\").then(data => {\n      var features = topojson.feature(data, data.objects.japan).features\n\n      svg.selectAll(\"path\")\n        .data(features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", path)\n        .attr(\"stroke\", \"black\")\n        .style(\"stroke-width\", \"0.6\")\n        .style(\"fill\", function(e) {\n          if (visited.includes(e.properties.nam)) {\n            return visitedColor\n          } else {\n            return nonVisitedColor\n          }\n        })\n        .on(\"mouseover\", function(e) {\n          setLoc(e.properties.nam, e.properties.nam_ja)\n          if (visited.includes(e.properties.nam)) {\n            d3.select(this).style(\"fill\", \"#d9bbb2\")\n          } else {\n            d3.select(this).style(\"fill\", \"lightgrey\")\n          }\n        })\n        .on(\"mouseout\", function(e) {\n          if (e.properties.nam == selected) {\n            d3.select(this).style(\"fill\", \"#334e70\")\n          } else if (visited.includes(e.properties.nam)) {\n            d3.select(this).style(\"fill\", visitedColor)\n          } else {\n            d3.select(this).style(\"fill\", nonVisitedColor)\n          }\n          resetLoc()\n        })\n        .on(\"click\", function(e) {\n          if (visited.includes(e.properties.nam)) {\n            svg.selectAll(\"path\")\n              .style(\"fill\", function(e) {\n                if (visited.includes(e.properties.nam)) {\n                  return visitedColor\n                } else {\n                  return nonVisitedColor\n                }\n              })\n            setTitleLoc(e.properties.nam, e.properties.nam_ja)\n            d3.select(this).style(\"fill\", \"#334e70\")\n          }\n        })\n    });\n\n  };\n\n  render() {\n    return (\n      <>\n        <div id=\"japan-labels\">\n          <p id=\"english-label\">{this.state.loc}</p>\n          <p id=\"japanese-label\">{this.state.loc_ja}</p>\n        </div>\n        <div id=\"japan\" className=\"mapDiv\"></div>\n      </>\n    )\n  }\n}\n\nexport default JapanMap\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\n\nimport {\n  Box,\n  Flex,\n  Heading,\n  Text,\n} from \"../components/basics\"\n\nconst Modal = styled(Box)`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.hidden ? \"0\" : \"1\"};\n  transition: all 0.2s ease-in-out;\n  pointer-events: ${props => props.hidden ? \"none\" : \"auto\"};\n`\n\nconst ModalContent = styled(Box)`\n  width: 50%;\n  background-color: white;\n  padding: 50px;\n`\n\nexport default function PhotoModal(props) {\n  return (\n    <Modal hidden={props.hidden} onClick={e => props.setModalHidden(true)}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <Flex boxWidth=\"48%\">\n          <Box>\n            <GatsbyImage\n              alt={props.photo.name}\n              key={props.photo.name}\n              image={props.photo.image}\n            />\n          </Box>\n          <Box>\n            <Flex boxWidth=\"50%\">\n              <Box>\n                <Heading>location</Heading>\n                <Text>{props.info.location}</Text>\n              </Box>\n              <Box>\n                <Heading>date</Heading>\n                <Text>{props.info.date}</Text>\n              </Box>\n            </Flex>\n            <div>\n              <Heading>description</Heading>\n              {props.info.description.map((line, index) => {\n                return <Text key={index}>{line}</Text>\n              })}\n            </div>\n          </Box>\n          </Flex>\n      </ModalContent>\n    </Modal>\n  )\n}\n","  export const japanPhotoInformation = {\n    \"tokyo_fear\": {date: \"2019-08-30\",\n                   location: \"Chuo City, Tokyo\",\n                   description: [\"A look of horror as we looked to end the meal with a round of offal.\"]},\n    \"tokyo_ginza_sushi\": {date: \"2019-08-21\",\n                          location: \"Kyubey, Chuo City, Tokyo\",\n                          description: [\"Sushi chef at work during our lunch at Kyubey in Ginza.\"]},\n    \"tokyo_mtfuji_1\": {date: \"2019-08-22\",\n                       location: \"Mt. Fuji\",\n                       description: [\"On our second day in Japan (while massively jetlagged), we rode the bus to Shizuoka and completed an overnight hike up Mt. Fuji where we were rewarded with this glorious sunrise.\", \"I also experienced the biggest crashdown later that day after going two days without sleep, culminating in me losing my subway pass :')\"]},\n    \"tokyo_mtfuji_2\": {date: \"2019-08-22\",\n                       location: \"Mt. Fuji\",\n                       description: [\"Yet another angle of the sunrise from Fuji. There was something surreal about standing up there watching the rays of the sun kiss the clouds.\"]},\n    \"tokyo_museum_hat\": {date: \"2019-08-20\",\n                         location: \"Tokyo National Museum\",\n                         description: [\"This one's pretty self-explanatory: I found a cool hat and put it on. The museum also provided cool audio info through the headphones to expound more on the artwork on display.\"]},\n    \"tokyo_outside_sushidai\": {date: \"2019-08-20\",\n                               location: \"Sushi Dai, Koto City, Tokyo\",\n    description: [\"A picture of the view outside Sushi Dai.\", \"This was our first real meal in Japan, slept for an hour and immediately got up to line up at 3 AM so we could get in when it opened at 6 AM. We were fed wrong info though, the other customers only started showing up at around 4:30 AM.\"]},\n\n    \"aichi_lamp\": {date: \"2019-08-23\",\n                   location: \"Nagoya, Aichi\",\n                   description: [\"A lamppost outside the restaurant Atsuta Horaiken. We were served the greatest unagi don here. Made us want to just keep eating unagi for the rest of our trip.\"]},\n    \"aichi_street\": {date: \"2019-08-23\",\n                     location: \"Nagoya, Aichi\",\n                     description: [\"Snapped this while crossing a bridge on our way to dinner. Though not much of a subject in these types of pictures, I tend to take a number of mundane photos just to help me document my entire experience, not just the highs.\"]},\n    \"aichi_udon\": {date: \"2019-08-23\",\n                   location: \"Nagoya, Aichi\",\n                   description: [\"On our way to Nagoya Castle, we passed by this udon joint. A few seconds later we looked at each other and agreed we had to go back to try the udon.\", \"Good decision on our part.\"]},\n\n    \"kyoto_bird\": {date: \"2019-08-24\",\n                   location: \"Maruyama Park, Kyoto\",\n                   description: [\"Cool bird on a rock.\"]},\n    \"kyoto_sit\": {date: \"2019-08-24\",\n                   location: \"Maruyama Park, Kyoto\",\n                   description: [\"A pair of sisters in the wild. I remember being a little nervous I would tip myself backwards.\"]},\n    \"kyoto_street\": {date: \"2019-08-24\",\n                     location: \"Shimogyo Ward, Kyoto\",\n                     description: [\"I have a strange affinity for the streets of Japan.\"]},\n    \"kyoto_train\": {date: \"2019-08-25\",\n                    location: \"Kyoto Station\",\n                    description: [\"A piece of Japan's intricate train system.\"]},\n\n    \"nara_deer_1\": {date: \"2019-08-26\",\n                    location: \"Nara Park\",\n                    description: [\"Tourists visit Nara for the deer and sad to say, we were no different.\"]},\n    \"nara_deer_2\": {date: \"2019-08-26\",\n                    location: \"Nara Park\",\n                    description: [\"My deer friend.\"]},\n    \"nara_mochi\": {date: \"2019-08-26\",\n                   location: \"Nara Park\",\n                   description: [\"Never one to refuse food, I also stuffed myself on fresh red bean mochi.\"]},\n\n    \"osaka_takoyaki\": {date: \"2019-08-26\",\n                       location: \"Dotonburi, Osaka\",\n                       description: [\"We didn't spend too long in Osaka but we did check out Dotonburi and ate some street snacks.\"]},\n\n    \"fukuoka_bridge\": {date: \"2019-08-28\",\n                       location: \"Fukuoka\",\n                       description: [\"Me on a bridge.\"]},\n    \"fukuoka_funnymen\": {date: \"2019-08-29\",\n                         location: \"Fukuoka\",\n                         description: [\"Funny men on the placemat of an unagi restaurant.\"]},\n    \"fukuoka_museum\": {date: \"2019-08-29\",\n                       location: \"Fukuoka\",\n                       description: [\"One of my favourite pieces at a museum we walked into on a whim.\"]}\n  }\n","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nimport Layout from \"../components/layouts/layout\"\nimport SEO from \"../components/seo\"\nimport JapanMap from \"../components/maps/japan\"\nimport PhotoModal from \"../components/photoModal\"\n\nimport { japanPhotoInformation } from \"../images/japan/info\"\n\nimport {\n  Box,\n  Flex,\n  Heading,\n  Text,\n  Title,\n} from \"../components/basics\"\n\nexport default function Japan({ data }) {\n\n  const [loc, setLoc] = useState(\"Japan\");\n  const [openPhoto, setOpenPhoto] = useState({});\n  const [modalHidden, setModalHidden] = useState(true);\n\n  var location = {\"loc\": \"Japan\"}\n  var photos = {}\n  var allPhotos = data.allFile.edges\n\n  for (var i = 0; i < allPhotos.length; i++) {\n    var name = allPhotos[i].node.name\n    var place = name.split(\"_\")[0]\n    if (place in photos) {\n      photos[place].push({name: name,\n                          image: getImage(allPhotos[i].node.childImageSharp)})\n    } else {\n      photos[place] = [{name: name,\n                        image: getImage(allPhotos[i].node.childImageSharp)}]\n    }\n  }\n\n  const openModal = () => {\n    \n  }\n\n  return (\n    <Layout tab=\"Japan\">\n      <SEO title=\"Japan\" />\n      <Title>Japan</Title>\n      <Text description>August 2019</Text>\n\n      <JapanMap setLoc={(newLoc) => setLoc(newLoc)}  />\n\n      <Flex boxWidth=\"49.5%\" photos>\n        {loc !== \"Japan\" &&\n          photos[loc.split(\" \")[0].toLowerCase()].map((photo, index) => {\n            return (\n              <Box key={photo.name} photo onClick={e => {\n                setOpenPhoto(photo)\n                setModalHidden(false)\n              }}>\n                <GatsbyImage\n                  alt={photo.name}\n                  key={photo.name}\n                  image={photo.image}\n                  style={{ cursor: \"pointer\" }}\n                />\n              </Box>\n            )\n          })\n        }\n      </Flex>\n\n      <PhotoModal\n        text=\"modal text\" \n        hidden={modalHidden}\n        photo={openPhoto}\n        setModalHidden={(newModalHidden) => setModalHidden(newModalHidden)}\n        info={japanPhotoInformation[openPhoto.name] || {date: \"\", location: \"\", description: [\"\"]}}\n      />\n      \n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query JapanPhotos {\n    allFile(filter: {extension: {regex: \"/(jpg)|(jpeg)|(png)/\"}, dir: {regex: \"/images/japan/\"}}) {\n      edges {\n        node {\n          id\n          name\n          childImageSharp {\n            gatsbyImageData(\n              placeholder: BLURRED\n              formats: [AUTO, WEBP, AVIF]\n            )\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}