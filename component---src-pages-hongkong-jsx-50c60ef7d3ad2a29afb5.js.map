{"version":3,"sources":["webpack:///./src/components/photoModal.jsx","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./src/components/maps/hongkong.js","webpack:///./src/images/hongkong/info.js","webpack:///./src/pages/hongkong.jsx"],"names":["Modal","styled","Box","props","hidden","ModalContent","theme","mediaQueries","tablet","PhotoModal","onClick","e","setModalHidden","stopPropagation","boxWidth","alt","photo","name","image","info","location","date","description","map","line","index","x","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","o","topology","objects","type","features","geometries","id","bbox","properties","geometry","transformPoint","arcs","arc","points","pop","a","k","push","t","array","reverse","point","p","ring","polygon","coordinates","HongKongMap","getLoc","state","loc","drawChart","div","d3","select","remove","height","node","offsetHeight","width","offsetWidth","console","log","svg","append","attr","projection","center","path","selected","title_loc","visited","then","data","topojson","HKG_adm1_1","selectAll","enter","style","NAME_1","includes","on","newLoc","newLocCh","NAME_2","setState","loc_ch","this","title_loc_ch","setLoc","componentDidMount","window","addEventListener","bind","render","className","Component","hongKongPhotoInformation","HongKong","useState","openPhoto","setOpenPhoto","modalHidden","photos","allPhotos","allFile","edges","place","split","getImage","childImageSharp","tab","title","toLowerCase","cursor","text","newModalHidden"],"mappings":"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","file":"component---src-pages-hongkong-jsx-50c60ef7d3ad2a29afb5.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\n\nimport {\n  Box,\n  Flex,\n  Heading,\n  Text,\n} from \"../components/basics\"\n\nconst Modal = styled(Box)`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: ${props => props.hidden ? \"0\" : \"1\"};\n  transition: all 0.2s ease-in-out;\n  pointer-events: ${props => props.hidden ? \"none\" : \"auto\"};\n`\n\nconst ModalContent = styled(Box)`\n  width: 50%;\n  background-color: white;\n  padding: 35px;\n\n  ${({ theme }) => `${theme.mediaQueries.tablet} {\n    padding: 50px;\n  }`}\n`\n\nexport default function PhotoModal(props) {\n  return (\n    <Modal hidden={props.hidden} onClick={e => props.setModalHidden(true)}>\n      <ModalContent onClick={e => e.stopPropagation()}>\n        <Flex boxWidth=\"48%\">\n          <Box>\n            <GatsbyImage\n              alt={props.photo.name}\n              key={props.photo.name}\n              image={props.photo.image}\n            />\n          </Box>\n          <Box>\n            <Flex boxWidth=\"50%\">\n              <Box>\n                <Heading>location</Heading>\n                <Text>{props.info.location}</Text>\n              </Box>\n              <Box>\n                <Heading>date</Heading>\n                <Text>{props.info.date}</Text>\n              </Box>\n            </Flex>\n            <div>\n              <Heading>description</Heading>\n              {props.info.description.map((line, index) => {\n                return <Text key={index}>{line}</Text>\n              })}\n            </div>\n          </Box>\n          </Flex>\n      </ModalContent>\n    </Modal>\n  )\n}\n","export default function (x) {\n  return x;\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) {\n      output[j] = input[j], ++j;\n    }\n\n    return output;\n  };\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) {\n      arc(arcs[i], points);\n    }\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) {\n      points.push(points[0]);\n    } // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) {\n    t = array[i], array[i++] = array[j], array[j] = t;\n  }\n}","import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport * as topojson from \"topojson-client\";\nimport \"./japan.css\"\n\nclass HongKongMap extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      title_loc: \"Hong Kong\",\n      title_loc_ch: \"香港\",\n      loc: \"Hong Kong\",\n      loc_ch: \"香港\",\n    };\n  }\n\n  getLoc = () => {\n    return this.state.loc\n  }\n\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n\n  drawChart = () => {\n    const div = d3.select(\"#hongkong\");\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n    console.log(\"height: \", height)\n    console.log(\"width: \", width)\n\n    const svg = div.append('svg')\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    var projection = d3.geoMercator()\n      .scale(50000)\n      .center([114,22])\n      .translate([width/3,650])\n\n    var path = d3.geoPath().projection(projection);\n\n    var selected = this.state.title_loc\n\n    const visited = [\"Central and Western\", \"Eastern\", \"Wan Chai\", \"Islands\", \"Southern\", \"Yau Tsim Mong\", \"Kowloon City\", \"Tuen Mun\", \"Tsuen Wan\", \"Sham Shui Po\"]\n    const visitedColor = \"#f5d1c6\"\n    const nonVisitedColor = \"white\"\n\n    const setLoc = (newLoc, newLocCh) => {\n      this.setState({loc: newLoc, loc_ch: newLocCh})\n    }\n\n    const setTitleLoc = (newLoc, newLocCh) => {\n      this.setState({title_loc: newLoc})\n      this.setState({title_loc_ch: newLocCh})\n      this.props.setLoc(newLoc)\n      selected = this.state.title_loc\n    }\n\n    const resetLoc = () => {\n      this.setState({loc: this.state.title_loc, loc_ch: this.state.title_loc_ch})\n    }\n\n\n    d3.json(\"/json/topohongkong.json\").then(data => {\n      var features = topojson.feature(data, data.objects.HKG_adm1_1).features\n\n      svg.selectAll(\"path\")\n        .data(features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", path)\n        .attr(\"stroke\", \"black\")\n        .style(\"stroke-width\", \"0.6\")\n        .style(\"fill\", function(e) {\n          if (selected === e.properties.NAME_1) {\n            return \"#334e70\"\n          } else if (visited.includes(e.properties.NAME_1)) {\n            return visitedColor\n          } else {\n            return nonVisitedColor\n          }\n        })\n        .on(\"mouseover\", function(e) {\n          setLoc(e.properties.NAME_1, e.properties.NAME_2)\n          if (visited.includes(e.properties.NAME_1)) {\n            d3.select(this).style(\"fill\", \"#d9bbb2\")\n          } else {\n            d3.select(this).style(\"fill\", \"lightgrey\")\n          }\n        })\n        .on(\"mouseout\", function(e) {\n          if (e.properties.NAME_1 === selected) {\n            d3.select(this).style(\"fill\", \"#334e70\")\n          } else if (visited.includes(e.properties.NAME_1)) {\n            d3.select(this).style(\"fill\", visitedColor)\n          } else {\n            d3.select(this).style(\"fill\", nonVisitedColor)\n          }\n          resetLoc()\n        })\n        .on(\"click\", function(e) {\n          if (visited.includes(e.properties.NAME_1)) {\n            svg.selectAll(\"path\")\n              .style(\"fill\", function(e) {\n                if (visited.includes(e.properties.NAME_1)) {\n                  return visitedColor\n                } else {\n                  return nonVisitedColor\n                }\n              })\n            setTitleLoc(e.properties.NAME_1, e.properties.NAME_2)\n            d3.select(this).style(\"fill\", \"#334e70\")\n          }\n        })\n    });\n\n  };\n\n  render() {\n    return (\n      <>\n        <div id=\"japan-labels\">\n          <p id=\"english-label\">{this.state.loc}</p>\n          <p id=\"japanese-label\">{this.state.loc_ch}</p>\n        </div>\n        <div id=\"hongkong\" className=\"mapDiv\"></div>\n      </>\n    )\n  }\n}\n\nexport default HongKongMap\n","export const hongKongPhotoInformation = {\n  // central and western\n  \"central_hku_sign\": {\n    date: \"2022-09-05\",\n    location: \"HKU\",\n    description: [\"Customary picture in front of school sign.\"]\n  },\n  \"central_hku_view\": {\n    date: \"2022-09-12\",\n    location: \"HKU\",\n    description: [\"View from the campus while walking between classes.\"]\n  },\n  \"central_bbq_rice\": {\n    date: \"2022-08-31\",\n    location: \"Sai Ying Pun\",\n    description: [\"Michelin Guide roast duck and char siu rice right outside the school.\"]\n  },\n  \"central_fluffy_cat\": {\n    date: \"2022-09-02\",\n    location: \"Sai Ying Pun\",\n    description: [\"Lots of store cats on Des Voeux Road. This one was particularly photogenic.\"]\n  },\n  \"central_omakase\": {\n    date: \"2022-10-08\",\n    location: \"Sooshi Gold, Central\",\n    description: [\"1 part of the omakase dinner.\"]\n  },\n  \"central_neon_sign\": {\n    date: \"2022-11-04\",\n    location: \"Sai Ying Pun\",\n    description: [\"A neon sign hanging at night.\"]\n  },\n\n  // kowloon city\n  \"kowloon_quarantine_meal\": {\n    date: \"2022-08-22\",\n    location: \"Quarantine Hotel\",\n    description: [\"Typical quarantine meal.\"]\n  },\n\n  // tsuen wan\n  \"tsuen_gate\": {\n    date: \"2022-10-26\",\n    location: \"Western Monastery\",\n    description: [\"Front gate of the Western Monastery. Interesting to visit after learning a bit more about the architecture behind buddhist temples in class.\"]\n  },\n  \"tsuen_carp\": {\n    date: \"2022-10-26\",\n    location: \"Western Monastery\",\n    description: [\"Carp pond.\"]\n  },\n\n  // sham shui po\n  \"sham_road\": {\n    date: \"2022-10-14\",\n    location: \"Outside Sham Shui Po Station\",\n    description: [\"On route to Hop Yik Tai.\"]\n  },\n\n  // southern\n  \"southern_dragons_back_start\": {\n    date: \"2022-10-22\",\n    location: \"Northern End of Shek O\",\n    description: [\"About to start Dragon's Back\"]\n  },\n  \"southern_sheko_beach\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Country Park\",\n    description: [\"View of Shek O Beach during the hike.\"]\n  },\n  \"southern_take_picture\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Country Park\",\n    description: [\"What a nice day.\"]\n  },\n  \"southern_beach_kids\": {\n    date: \"2022-10-22\",\n    location: \"Shek O Beach\",\n    description: [\"Kids in matching outfits.\"]\n  },\n\n  // wan chai\n  \"wan_street\": {\n    date: \"2022-10-30\",\n    location: \"Wan Chai\",\n    description: [\"Busy street.\"]\n  },\n  \"wan_bbq_rice\": {\n    date: \"2022-11-19\",\n    location: \"Hay Hay Kitchen\",\n    description: [\"Char siu rice — my most consumed meal.\"]\n  },\n  \n  // yau tsim mong\n  \"yau_waterfront\": {\n    date: \"2022-08-26\",\n    location: \"Tsim Sha Tsui Promenade\",\n    description: [\"I went for a run exactly once during the term and this was the view.\"]\n  },\n  \"yau_stairs\": {\n    date: \"2022-10-28\",\n    location: \"King's Park\",\n    description: [\"There are a bunch of paths like this everywhere, just endless stairs leading somewhere.\"]\n  },\n  \"yau_park_track\": {\n    date: \"2022-10-28\",\n    location: \"King's Park\",\n    description: [\"The stairs eventually led to a nice little park at the top of a hill.\"]\n  },\n\n  // islands\n  \"islands_before_cable\": {\n    date: \"2022-11-09\",\n    location: \"Tung Chung\",\n    description: [\"Area before getting on the cable car.\"]\n  },\n  \"islands_cable_car\": {\n    date: \"2022-11-09\",\n    location: \"Tung Chung\",\n    description: [\"In the cable car to see the Big Buddha.\"]\n  },\n  \"islands_big_buddha\": {\n    date: \"2022-11-09\",\n    location: \"Ngong Ping\",\n    description: [\"We weren't allowed to walk up but yeah, that's a big buddha.\"]\n  },\n  \"islands_wisdom_path\": {\n    date: \"2022-11-09\",\n    location: \"Wisdom Path, Ngong Ping\",\n    description: [\"A short walk away, you can find the Wisdom Path.\"]\n  },\n  \"islands_lantau_1\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Upon our return to hike Lantau Peak, the weather was not in our favour. This was the visibility for the entire hike.\"]\n  },\n  \"islands_me\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Its-a me.\"]\n  },\n  \"islands_lantau_2\": {\n    date: \"2022-11-26\",\n    location: \"Lantau Peak Hike\",\n    description: [\"Another view.\"]\n  },\n\n  // eastern\n  \"eastern_wagyu\": {\n    date: \"2022-11-12\",\n    location: \"Japanese Wagyu Yakiniku Pure, Causeway Bay\",\n    description: [\"Yakiniku for lunch.\"]\n  },\n\n  // tuen mun\n  \"tuen_chillwo\": {\n    date: \"2022-11-13\",\n    location: \"Chillwo (Shop name)\",\n    description: [\"Tucked away in a random industrial looking complex is a Japanese thrift shop populated by 7 cats.\"]\n  },\n  \"tuen_cats\": {\n    date: \"2022-11-13\",\n    location: \"Chillwo (Shop name)\",\n    description: [\"Some of the cats.\"]\n  },\n  \"tuen_reptile\": {\n    date: \"2022-11-13\",\n    location: \"Reptile House, Tuen Mun Park\",\n    description: [\"Yup, that's a reptile.\"]\n  },\n  \"tuen_sunset\": {\n    date: \"2022-11-13\",\n    location: \"Tuen Mun Park\",\n    description: [\"Sunset from a park.\"]\n  },\n\n}","import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nimport Layout from \"../components/layouts/layout\"\nimport SEO from \"../components/seo\"\nimport HongKongMap from \"../components/maps/hongkong\"\nimport PhotoModal from \"../components/photoModal\"\n\nimport { hongKongPhotoInformation } from \"../images/hongkong/info\"\n\nimport {\n  Box,\n  Flex,\n  Text,\n  Title,\n} from \"../components/basics\"\n\nexport default function HongKong({ data }) {\n\n  const [loc, setLoc] = useState(\"HongKong\");\n  const [openPhoto, setOpenPhoto] = useState({});\n  const [modalHidden, setModalHidden] = useState(true);\n\n  var photos = {}\n  var allPhotos = data.allFile.edges\n\n  for (var i = 0; i < allPhotos.length; i++) {\n    var name = allPhotos[i].node.name\n    var place = name.split(\"_\")[0]\n    if (place in photos) {\n      photos[place].push({name: name,\n                          image: getImage(allPhotos[i].node.childImageSharp)})\n    } else {\n      photos[place] = [{name: name,\n                        image: getImage(allPhotos[i].node.childImageSharp)}]\n    }\n  }\n\n  return (\n    <Layout tab=\"HongKong\">\n      <SEO title=\"HongKong\" />\n      <Title>Hong Kong</Title>\n      <Text description>Aug - Dec 2022</Text>\n\n      <HongKongMap setLoc={(newLoc) => setLoc(newLoc)}  />\n\n      <Flex boxWidth=\"49.5%\" photos>\n        {loc !== \"HongKong\" &&\n          photos[loc.split(\" \")[0].toLowerCase()].map((photo, index) => {\n            return (\n              <Box key={photo.name} photo onClick={e => {\n                setOpenPhoto(photo)\n                setModalHidden(false)\n              }}>\n                <GatsbyImage\n                  alt={photo.name}\n                  key={photo.name}\n                  image={photo.image}\n                  style={{ cursor: \"pointer\" }}\n                />\n              </Box>\n            )\n          })\n        }\n      </Flex>\n\n      <PhotoModal\n        text=\"modal text\" \n        hidden={modalHidden}\n        photo={openPhoto}\n        setModalHidden={(newModalHidden) => setModalHidden(newModalHidden)}\n        info={hongKongPhotoInformation[openPhoto.name] || {date: \"\", location: \"\", description: [\"\"]}}\n      />\n      \n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query HKPhotos {\n    allFile(filter: {extension: {regex: \"/(jpg)|(jpeg)|(png)/\"}, dir: {regex: \"/images/hongkong/\"}}) {\n      edges {\n        node {\n          id\n          name\n          childImageSharp {\n            gatsbyImageData(\n              placeholder: BLURRED\n              formats: [AUTO, WEBP, AVIF]\n            )\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}