{"version":3,"sources":["webpack:///./src/components/graphs/reading-2021.jsx","webpack:///./src/components/page-list.jsx","webpack:///./src/components/graphs/reading-words-2020.jsx","webpack:///./src/pages/reading.jsx","webpack:///./src/components/graphs/reading-2020.jsx"],"names":["Reading2021Graph","componentDidMount","this","drawChart","window","addEventListener","bind","div","d3","select","remove","height","node","offsetHeight","width","offsetWidth","svg","append","attr","then","data","forEach","d","books","margin","innerWidth","innerHeight","yScale","domain","range","nice","xScale","map","month","g","call","ticks","tickFormat","style","text","tickSizeOuter","lineGenerator","x","y","areaGenerator","y0","y1","focus","focusText","on","x0","rangePoints","step","i","mouseMonth","yDomain","yRange","yRangePoints","selectedData","html","length","render","id","className","Component","PageList","section","query","Helper","posts","edges","filter","post","frontmatter","title","key","display","justifyContent","to","path","td","date","RecHeading","styled","Heading","theme","mediaQueries","tablet","PaddedLink","Link","Reading","tab","description","boxWidth","url","book","href","Reading2020Graph"],"mappings":"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","file":"component---src-pages-reading-jsx-d2347e839a27391932cf.js","sourcesContent":["import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport \"./graph-css.css\"\n\nclass Reading2021Graph extends Component {\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n  \n  drawChart() {\n    const div = d3.select('#scatter');\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n\n    const svg = div.append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n    const render = data => {\n\n      const margin = {top: 10, right: 20, bottom: 40, left: 50};\n      const innerWidth = width - margin.left - margin.right;\n      const innerHeight = height - margin.top - margin.bottom;\n\n      const yAxisLabel = '# of books read'\n\n      const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.books)])\n        .range([innerHeight, 0])\n        .nice();\n\n      const xScale = d3.scalePoint()\n        .domain(data.map(d => d.month))\n        .range([0, innerWidth]);\n\n      const g = svg.append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n      // yAxisG\n      const yAxisG = g.append('g')\n        .call(d3.axisLeft(yScale)\n          .ticks(7)\n          .tickFormat(d3.format('d')));\n\n      yAxisG.append('text')\n        .attr('class', 'axis-label')\n        .attr('fill', 'black')\n        .attr('y', -35)\n        .attr('x', -innerHeight / 2)\n        .attr('transform', 'rotate(-90)')\n        .style('text-anchor', 'middle')\n        .text(yAxisLabel);\n      \n      // xAxisG\n      g.append('g')\n        .call(d3.axisBottom(xScale)\n          .tickSizeOuter(0))\n        .attr('transform', `translate(0, ${innerHeight})`);\n\n      // line chart\n      const lineGenerator = d3.line()\n        .x(d => xScale(d.month))\n        .y(d => yScale(d.books));\n\n      g.append('path')\n        .attr('class', 'line-path')\n        .attr('d', lineGenerator(data));\n\n      // area chart \n      const areaGenerator = d3.area()\n        .x(d => xScale(d.month))\n        .y0(innerHeight)\n        .y1(d => yScale(d.books));\n\n      g.append('path')\n        .attr('class', 'area-path')\n        .attr('d', areaGenerator(data));\n\n      // interactive label stuff\n      const focus = g.append('circle')\n          .style(\"fill\", \"steelblue\")\n          .attr(\"stroke\", \"steelblue\")\n          .attr('r', 4)\n          .style(\"opacity\", 0)\n\n      const focusText = g.append('text')\n          .style(\"opacity\", 0)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"alignment-baseline\", \"middle\")\n\n      g.append('rect')\n        .attr('class', 'some-rect')\n        .style(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\")\n        .attr('width', width)\n        .attr('height', height)\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      function mouseover() {\n        focus.style(\"opacity\", 1)\n        focusText.style(\"opacity\", 1)\n      }\n\n      function mousemove() {\n        var x0 = d3.mouse(this)[0];\n        var domain = xScale.domain();\n        var range = xScale.range();\n        var rangePoints = d3.range(range[0], range[1]+15, xScale.step())\n        var i = (d3.bisect(rangePoints, x0) - 1) < 0 ? 0 : d3.bisect(rangePoints, x0) - 1\n        var mouseMonth = domain[d3.bisect(rangePoints, x0) - 1];\n\n        var yDomain = yScale.domain();\n        var yRange = yScale.range();\n        var yRangePoints = d3.range(yRange[0], yRange[1], -(yRange[0]/yDomain[1]))\n\n        var selectedData = data[i]\n        focus\n          .attr(\"cx\", rangePoints[i])\n          .attr(\"cy\", yRangePoints[selectedData.books])\n        focusText\n          .html(`${mouseMonth} - ${selectedData.books} ${selectedData.books > 1 ? \"books\" : \"book\"}`)\n          .attr(\"x\", (i >= domain.length-2 && domain.length > 2) || i >= domain.length-1 ? rangePoints[i]-140 : rangePoints[i]+15)\n          .attr(\"y\", yRangePoints[selectedData.books])\n      }\n\n      function mouseout() {\n        focus.style(\"opacity\", 0)\n        focusText.style(\"opacity\", 0)\n      }\n\n    };\n\n    d3.csv(\"/data/reading-2021.csv\").then(data => {\n      data.forEach(d => {\n        d.books = +d.books;\n      });\n      render(data);\n    });\n  };\n\n  render() {\n    return (\n      <div id=\"scatter\" className=\"hide-graph graphDiv\"></div>\n    )\n  }\n}\n\nexport default Reading2021Graph\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nimport {\n  Link,\n  Section,\n  Subtitle,\n  Text,\n  Time,\n  UList\n} from \"./basics\"\n\nexport default function PageList({ section }) {\n    \n  return (\n    <StaticQuery \n      query={graphql`\n        query IndexQuery {\n          reviews: allMarkdownRemark(\n            filter: {fileAbsolutePath: {regex: \"/reviews/\"}}, \n            sort: { order: DESC, fields: [frontmatter___date] }\n          ) {\n            edges {\n              node {\n                excerpt(pruneLength: 250)\n                id\n                frontmatter {\n                  title\n                  date(formatString: \"DD-MM-YYYY\")\n                  path\n                }\n              }\n            }\n          }\n\n          poems: allMarkdownRemark(\n            filter: {fileAbsolutePath: {regex: \"/poems/\"}}, \n            sort: { order: DESC, fields: [frontmatter___date] }\n          ) {\n            edges {\n              node {\n                excerpt(pruneLength: 250)\n                id\n                frontmatter {\n                  title\n                  date(formatString: \"DD-MM-YYYY\")\n                  path\n                }\n              }\n            }\n          }\n\n          essays: allMarkdownRemark(\n            filter: {fileAbsolutePath: {regex: \"/essays/\"}}, \n            sort: { order: DESC, fields: [frontmatter___date] }\n          ) {\n            edges {\n              node {\n                excerpt(pruneLength: 250)\n                id\n                frontmatter {\n                  title\n                  date(formatString: \"DD-MM-YYYY\")\n                  path\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => <Helper data={data} section={section} /> }\n    /> \n  )\n}\n\nconst Helper = ({ data, section }) => {\n  const { edges: posts } = data[section]\n  return (\n    <Section>\n      <Subtitle>{section}</Subtitle>\n      <UList>\n        {posts\n          .filter(post => post.node.frontmatter.title.length > 0)\n          .map(({ node: post }) => {\n            return (\n              <li \n                key={post.id}\n                style={{ display: \"flex\", justifyContent: \"space-between\" }}\n              >\n                <Text>\n                <Link \n                  to={post.frontmatter.path} \n                  td=\"none\"\n                >\n                  {post.frontmatter.title}\n                </Link>\n                </Text>\n                <Time>{post.frontmatter.date}</Time>\n              </li>\n            )\n          })\n        }\n      </UList>\n    </Section>\n  )\n}\n","import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport \"./graph-css.css\"\n\nclass ReadingWords2020Graph extends Component {\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n  \n  drawChart() {\n    const div = d3.select('#wordsscatter');\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n\n    const svg = div.append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n    const render = data => {\n\n      const margin = {top: 10, right: 20, bottom: 40, left: 50};\n      const innerWidth = width - margin.left - margin.right;\n      const innerHeight = height - margin.top - margin.bottom;\n\n      const yAxisLabel = '# of words read'\n\n      const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.words)])\n        .range([innerHeight, 0])\n        .nice();\n\n      const xScale = d3.scalePoint()\n        .domain(data.map(d => d.month))\n        .range([0, innerWidth]);\n\n      const g = svg.append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n      // yAxisG\n      const yAxisG = g.append('g')\n        .call(d3.axisLeft(yScale)\n          .ticks(7)\n          .tickFormat(d3.format('.1s')));\n\n      yAxisG.append('text')\n        .attr('class', 'axis-label')\n        .attr('fill', 'black')\n        .attr('y', -40)\n        .attr('x', -innerHeight / 2)\n        .attr('transform', 'rotate(-90)')\n        .style('text-anchor', 'middle')\n        .text(yAxisLabel);\n      \n      // xAxisG\n      g.append('g')\n        .call(d3.axisBottom(xScale)\n          .tickSizeOuter(0))\n        .attr('transform', `translate(0, ${innerHeight})`);\n\n      // line chart\n      const lineGenerator = d3.line()\n        .x(d => xScale(d.month))\n        .y(d => yScale(d.words));\n\n      g.append('path')\n        .attr('class', 'line-path')\n        .attr('d', lineGenerator(data));\n\n      // area chart \n      const areaGenerator = d3.area()\n        .x(d => xScale(d.month))\n        .y0(innerHeight)\n        .y1(d => yScale(d.words));\n\n      g.append('path')\n        .attr('class', 'area-path')\n        .attr('d', areaGenerator(data));\n\n      //interactive label stuff\n      const focus = g.append('circle')\n          .style(\"fill\", \"steelblue\")\n          .attr(\"stroke\", \"steelblue\")\n          .attr('r', 4)\n          .style(\"opacity\", 0)\n\n      const focusText = g.append('text')\n          .style(\"opacity\", 0)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"alignment-baseline\", \"middle\")\n\n      g.append('rect')\n        .attr('class', 'some-rect')\n        .style(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\")\n        .attr('width', width)\n        .attr('height', height)\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      function mouseover() {\n        focus.style(\"opacity\", 1)\n        focusText.style(\"opacity\", 1)\n      }\n\n      function mousemove() {\n        var x0 = d3.mouse(this)[0];\n        var domain = xScale.domain();\n        var range = xScale.range();\n        var rangePoints = d3.range(range[0], range[1]+15, xScale.step())\n        var i = (d3.bisect(rangePoints, x0) - 1) < 0 ? 0 : d3.bisect(rangePoints, x0) - 1\n        var mouseMonth = domain[d3.bisect(rangePoints, x0) - 1];\n\n        var yDomain = yScale.domain();\n        var yRange = yScale.range();\n        var yRangePoints = d3.range(yRange[0], yRange[1], -(yRange[0]/yDomain[1]))\n\n        var selectedData = data[i]\n        focus\n          .attr(\"cx\", rangePoints[i])\n          .attr(\"cy\", yRangePoints[selectedData.words])\n        focusText\n          .html(`${mouseMonth} - ${selectedData.words} ${selectedData.words> 1 ? \"words\" : \"word\"}`)\n          .attr(\"x\", i >= domain.length-2 ? rangePoints[i]-140 : rangePoints[i]+15)\n          .attr(\"y\", yRangePoints[selectedData.words])\n      }\n\n      function mouseout() {\n        focus.style(\"opacity\", 0)\n        focusText.style(\"opacity\", 0)\n      }\n\n    };\n\n    d3.csv(\"/data/reading-words-2020.csv\").then(data => {\n      data.forEach(d => {\n        d.words = +d.words;\n      });\n      render(data);\n    });\n  };\n\n  render() {\n    return (\n      <div id=\"wordsscatter\" className=\"graphDiv\"></div>\n    )\n  }\n}\n\nexport default ReadingWords2020Graph\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nimport Layout from \"../components/layouts/layout\"\nimport SEO from \"../components/seo\"\nimport PageList from \"../components/page-list\"\nimport Reading2020Graph from \"../components/graphs/reading-2020\"\nimport Reading2021Graph from \"../components/graphs/reading-2021\"\nimport ReadingWords2020Graph from \"../components/graphs/reading-words-2020\"\n\nimport {\n  Box,\n  ExtLink,\n  Flex,\n  Heading,\n  Link,\n  Section,\n  Subtitle,\n  Text,\n  Title,\n  UList\n} from \"../components/basics\"\n\nconst RecHeading = styled(Heading)`\n  ${({ theme }) => `${theme.mediaQueries.tablet} {\n    margin-top: 10px;\n  }`}\n`\n\nconst PaddedLink = styled(Link)`\n  margin-right: 20px;\n`\n\nexport default function Reading() {\n  const recNonFic = [\n    {title: \"Becoming\", url: \"https://www.goodreads.com/book/show/38746485-becoming\"},\n    {title: \"Educated\", url: \"https://www.goodreads.com/book/show/35133922-educated\"},\n    {title: \"Invisible Women\", url: \"https://www.goodreads.com/book/show/41104077-invisible-women\"},\n    {title: \"Maybe You Should Talk to Someone\", url: \"https://www.goodreads.com/book/show/37570546-maybe-you-should-talk-to-someone\"},\n    {title: \"Non-Violent Communication\", url: \"https://www.goodreads.com/book/show/71730.Nonviolent_Communication\"},\n    {title: \"Prepared\", url: \"https://www.goodreads.com/en/book/show/43422738-prepared\"}\n  ]\n  const recFic = [\n    {title: \"Airborn\", url: \"https://www.goodreads.com/book/show/428042.Airborn\"},\n    {title: \"Breasts and Eggs\", url: \"https://www.goodreads.com/book/show/50736031-breasts-and-eggs\"},\n    {title: \"Children of Time\", url: \"https://www.goodreads.com/series/247630-children-of-time\"},\n    {title: \"Life of Pi\", url: \"https://www.goodreads.com/book/show/4214.Life_of_Pi\"},\n    {title: \"The Long Way to a Small, Angry Planet\", url: \"https://www.goodreads.com/book/show/22733729-the-long-way-to-a-small-angry-planet\"},\n    {title: \"The Luminaries\", url: \"https://www.goodreads.com/book/show/17333230-the-luminaries\"},\n    {title: \"The Remains of the Day\", url: \"https://www.goodreads.com/book/show/28921.The_Remains_of_the_Day\"},\n    {title: \"The Three-Body Problem\", url: \"https://www.goodreads.com/book/show/20518872-the-three-body-problem\"},\n  ]\n  return (\n    <Layout tab=\"Reading\">\n      <SEO title=\"Reading\" />\n      <Title>Reading</Title>\n      <Text description>What I talk about when I talk about books</Text>\n\n      <Reading2020Graph />\n      {/* <ReadingWords2020Graph /> */}\n\n      <Text>\n        <PaddedLink td=\"none\" to=\"/reading-list-2021\">Reading List 2021</PaddedLink>\n        <PaddedLink td=\"none\" to=\"/reading-list-2020\">Reading List 2020</PaddedLink>\n      </Text>\n      <br />\n\n      <Section>\n        <Subtitle>Recommended Reading</Subtitle>\n\n        <Flex boxWidth=\"32%\">\n          <Box>\n            <RecHeading>non-fiction</RecHeading>\n            <UList>\n              {\n                recNonFic.map((book, i) => {\n                  return (\n                    <li key={i}>\n                      <Text>\n                        <ExtLink\n                          href={book.url}\n                          td=\"none\"\n                        >\n                          {book.title}\n                        </ExtLink>\n                      </Text>\n                    </li>\n                  )\n                })\n              }\n            </UList>\n          </Box>\n\n          <Box>\n            <RecHeading>fiction</RecHeading>\n            <UList>\n              {\n                recFic.map((book, i) => {\n                  return (\n                    <li key={i}>\n                      <Text>\n                        <ExtLink\n                          href={book.url}\n                          td=\"none\"\n                        >\n                          {book.title}\n                        </ExtLink>\n                      </Text>\n                    </li>\n                  )\n                })\n              }\n            </UList>\n          </Box>\n\n          <Box>\n            <RecHeading>other</RecHeading>\n          </Box>\n        </Flex>\n\n      </Section>\n\n      <PageList section=\"reviews\" />\n\n    </Layout>\n  )\n}\n\n","import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport \"./graph-css.css\"\n\nclass Reading2020Graph extends Component {\n  componentDidMount() {\n    this.drawChart();\n    window.addEventListener(\"resize\", this.drawChart.bind(this));\n  }\n  \n  drawChart() {\n    const div = d3.select('#scatter');\n    div.select('svg').remove();\n\n    const height = +div.node().offsetHeight;\n    const width = +div.node().offsetWidth;\n\n    const svg = div.append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n    const render = data => {\n\n      const margin = {top: 10, right: 20, bottom: 40, left: 50};\n      const innerWidth = width - margin.left - margin.right;\n      const innerHeight = height - margin.top - margin.bottom;\n\n      const yAxisLabel = '# of books read'\n\n      const yScale = d3.scaleLinear()\n        .domain([0, d3.max(data, d => d.books)])\n        .range([innerHeight, 0])\n        .nice();\n\n      const xScale = d3.scalePoint()\n        .domain(data.map(d => d.month))\n        .range([0, innerWidth]);\n\n      const g = svg.append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n      // yAxisG\n      const yAxisG = g.append('g')\n        .call(d3.axisLeft(yScale)\n          .ticks(7)\n          .tickFormat(d3.format('d')));\n\n      yAxisG.append('text')\n        .attr('class', 'axis-label')\n        .attr('fill', 'black')\n        .attr('y', -35)\n        .attr('x', -innerHeight / 2)\n        .attr('transform', 'rotate(-90)')\n        .style('text-anchor', 'middle')\n        .text(yAxisLabel);\n      \n      // xAxisG\n      g.append('g')\n        .call(d3.axisBottom(xScale)\n          .tickSizeOuter(0))\n        .attr('transform', `translate(0, ${innerHeight})`);\n\n      // line chart\n      const lineGenerator = d3.line()\n        .x(d => xScale(d.month))\n        .y(d => yScale(d.books));\n\n      g.append('path')\n        .attr('class', 'line-path')\n        .attr('d', lineGenerator(data));\n\n      // area chart \n      const areaGenerator = d3.area()\n        .x(d => xScale(d.month))\n        .y0(innerHeight)\n        .y1(d => yScale(d.books));\n\n      g.append('path')\n        .attr('class', 'area-path')\n        .attr('d', areaGenerator(data));\n\n      // interactive label stuff\n      const focus = g.append('circle')\n          .style(\"fill\", \"steelblue\")\n          .attr(\"stroke\", \"steelblue\")\n          .attr('r', 4)\n          .style(\"opacity\", 0)\n\n      const focusText = g.append('text')\n          .style(\"opacity\", 0)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"alignment-baseline\", \"middle\")\n\n      g.append('rect')\n        .attr('class', 'some-rect')\n        .style(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\")\n        .attr('width', width)\n        .attr('height', height)\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      function mouseover() {\n        focus.style(\"opacity\", 1)\n        focusText.style(\"opacity\", 1)\n      }\n\n      function mousemove() {\n        var x0 = d3.mouse(this)[0];\n        var domain = xScale.domain();\n        var range = xScale.range();\n        var rangePoints = d3.range(range[0], range[1]+15, xScale.step())\n        var i = (d3.bisect(rangePoints, x0) - 1) < 0 ? 0 : d3.bisect(rangePoints, x0) - 1\n        var mouseMonth = domain[d3.bisect(rangePoints, x0) - 1];\n\n        var yDomain = yScale.domain();\n        var yRange = yScale.range();\n        var yRangePoints = d3.range(yRange[0], yRange[1], -(yRange[0]/yDomain[1]))\n\n        var selectedData = data[i]\n        focus\n          .attr(\"cx\", rangePoints[i])\n          .attr(\"cy\", yRangePoints[selectedData.books])\n        focusText\n          .html(`${mouseMonth} - ${selectedData.books} ${selectedData.books > 1 ? \"books\" : \"book\"}`)\n          .attr(\"x\", i >= domain.length-2 ? rangePoints[i]-140 : rangePoints[i]+15)\n          .attr(\"y\", yRangePoints[selectedData.books])\n      }\n\n      function mouseout() {\n        focus.style(\"opacity\", 0)\n        focusText.style(\"opacity\", 0)\n      }\n\n    };\n\n    d3.csv(\"/data/reading-2020.csv\").then(data => {\n      data.forEach(d => {\n        d.books = +d.books;\n      });\n      render(data);\n    });\n  };\n\n  render() {\n    return (\n      <div id=\"scatter\" className=\"hide-graph graphDiv\"></div>\n    )\n  }\n}\n\nexport default Reading2020Graph\n"],"sourceRoot":""}