(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{ZxTt:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a("q1tI"),l=a.n(n),i=a("f0fW"),o=a("+0cL"),s=a("vrFN"),r=a("dI71"),c=a("VphZ"),p=a("0hfp");a("o4CC");var d=function(e){function t(t){var a;return(a=e.call(this,t)||this).getLoc=()=>a.state.loc,a.drawChart=()=>{const e=c.p("#japan");e.select("svg").remove();const t=+e.node().offsetHeight,n=+e.node().offsetWidth;console.log("height: ",t),console.log("width: ",n);const l=e.append("svg").attr("width",n).attr("height",t);var i=c.g().scale(1200).center([137,37]).translate([n/2,250]),o=c.h().projection(i),s=a.state.title_loc;const r=["Tokyo To","Kyoto Fu","Osaka Fu","Fukuoka Ken","Nara Ken","Aichi Ken"];c.i("/json/topojapan.json").then(e=>{var t=p.a(e,e.objects.japan).features;l.selectAll("path").data(t).enter().append("path").attr("d",o).attr("stroke","black").style("stroke-width","0.6").style("fill",(function(e){return s===e.properties.nam?"#FFD148":r.includes(e.properties.nam)?"#f5d1c6":"white"})).on("mouseover",(function(e){var t,n;t=e.properties.nam,n=e.properties.nam_ja,a.setState({loc:t,loc_ja:n}),r.includes(e.properties.nam)?c.p(this).style("fill","#d9bbb2"):c.p(this).style("fill","lightgrey")})).on("mouseout",(function(e){e.properties.nam===s?c.p(this).style("fill","#FFD148"):r.includes(e.properties.nam)?c.p(this).style("fill","#f5d1c6"):c.p(this).style("fill","white"),a.setState({loc:a.state.title_loc,loc_ja:a.state.title_loc_ja})})).on("click",(function(e){var t,n;r.includes(e.properties.nam)&&(l.selectAll("path").style("fill",(function(e){return r.includes(e.properties.nam)?"#f5d1c6":"white"})),t=e.properties.nam,n=e.properties.nam_ja,a.setState({title_loc:t}),a.setState({title_loc_ja:n}),a.props.setLoc(t),s=a.state.title_loc,c.p(this).style("fill","#FFD148"))}))})},a.state={title_loc:"Japan",title_loc_ja:"日本",loc:"Japan",loc_ja:"日本"},a}Object(r.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.drawChart(),window.addEventListener("resize",this.drawChart.bind(this))},a.render=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"japan-labels"},l.a.createElement("p",{id:"english-label"},this.state.loc),l.a.createElement("p",{id:"japanese-label"},this.state.loc_ja)),l.a.createElement("div",{id:"japan",className:"mapDiv"}))},t}(n.Component),h=a("/mrq"),m=a("jOQ7"),u=a("DQ+m");function f(e){let{data:t}=e;const{0:a,1:r}=Object(n.useState)("Japan"),{0:c,1:p}=Object(n.useState)({}),{0:f,1:j}=Object(n.useState)(!0);for(var g={},v=t.allFile.edges,b=0;b<v.length;b++){var w=v[b].node.name,_=w.split("_")[0];_ in g?g[_].push({name:w,image:Object(i.i)(v[b].node.childImageSharp)}):g[_]=[{name:w,image:Object(i.i)(v[b].node.childImageSharp)}]}return l.a.createElement(o.a,{tab:"Japan"},l.a.createElement(s.a,{title:"Japan"}),l.a.createElement(u.n,null,l.a.createElement(u.f,{href:"/writing/visualizing-japan"},"Japan")),l.a.createElement(u.l,{description:!0},"August 2019"),l.a.createElement(d,{setLoc:e=>r(e)}),l.a.createElement(u.c,{boxWidth:"49.5%",photos:!0},"Japan"!==a&&g[a.split(" ")[0].toLowerCase()].map((e,t)=>l.a.createElement(u.a,{key:e.name,photo:!0,onClick:t=>{p(e),j(!1)}},l.a.createElement(i.a,{alt:e.name,key:e.name,image:e.image,style:{cursor:"pointer"}})))),l.a.createElement(h.a,{text:"modal text",hidden:f,photo:c,setModalHidden:e=>j(e),info:m.a[c.name]||{date:"",location:"",description:[""]}}))}}}]);
//# sourceMappingURL=component---src-pages-japan-jsx-e360ba977374bd36a186.js.map